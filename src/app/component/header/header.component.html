<mat-sidenav-container class="sidenav-container">

  <mat-toolbar color="primary" class="top-toolbar">

    <img src="/logo.png" class="app-logo" alt="Logo" />
    <span class="spacer"></span>
    <nav class="nav-links">
      <a mat-button routerLink="/home">Начало</a>
      <!-- <a mat-button routerLink="/companies">Фирми</a> -->
      <a mat-button routerLink="/requests" *ngIf="isAuthenticated">Публикации</a>
      <a mat-button routerLink="/user/companies" *ngIf="isAuthenticated">Моите фирми</a>
      <a mat-button routerLink="/my-requests" *ngIf="isAuthenticated">Моите Публикации</a>
      <a mat-button routerLink="/my-responses" *ngIf="isAuthenticated">Моите Предложения</a>
      <a mat-button routerLink="/saved-requests" *ngIf="isAuthenticated">
        <mat-icon 
          style="margin-right: 4px; font-size: 18px;" 
          [matBadge]="savedRequestsCount" 
          [matBadgeHidden]="savedRequestsCount === 0"
          matBadgeColor="accent"
          matBadgeSize="small"
          aria-hidden="false"
          [attr.aria-label]="'Запазени публикации: ' + savedRequestsCount">
          bookmark
        </mat-icon>
        Запазени
      </a>
      <a mat-button routerLink="/about">За нас</a>
      <a mat-button routerLink="/login" *ngIf="!isAuthenticated">Влез</a>
      <a mat-button routerLink="/register" *ngIf="!isAuthenticated">Регистрация</a>
      <!-- Account icon and menu for authenticated users -->
      <button mat-icon-button [matMenuTriggerFor]="accountMenu" *ngIf="isAuthenticated">
        <mat-icon>account_circle</mat-icon>
      </button>
      <mat-menu #accountMenu="matMenu">
        <ng-container *ngFor="let notification of notifications">
          <button mat-menu-item disabled style="white-space: normal; opacity: 1;">
            <mat-icon color="primary" style="margin-right:8px;">notifications</mat-icon>
            <span>{{ notification.text }}</span>
          </button>
        </ng-container>
        <button mat-menu-item (click)="onSeeAllNotifications()">
          <mat-icon>list</mat-icon>
          <span>Виж всички</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="onInvoices()">
          <mat-icon>receipt_long</mat-icon>
          <span>Фактури</span>
        </button>
        <button mat-menu-item (click)="onSettings()">
          <mat-icon>settings</mat-icon>
          <span>Настройки</span>
        </button>
        <button mat-menu-item (click)="onLogout()">
          <mat-icon>logout</mat-icon>
          <span>Излез</span>
        </button>
      </mat-menu>
    </nav>
  </mat-toolbar>
</mat-sidenav-container>
