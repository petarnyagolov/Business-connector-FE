import{a as $,b as V,c as Q,d as B,e as N,f as U,g as q,h as G,i as J,j as K,k as W,l as X}from"./chunk-LIL5WR5X.js";import{b as A}from"./chunk-6P3D3FBC.js";import"./chunk-GUGDQATU.js";import{F as z,K as R,P as F,Q as j,z as O}from"./chunk-7RFGPB7Y.js";import{B as P,C as I}from"./chunk-IFXUHTWD.js";import{$a as u,Bb as o,Cc as E,Cd as T,Db as d,Ed as L,F as g,Fa as h,Gd as H,Ja as x,Lb as w,Od as k,Pa as p,ab as i,ba as M,bb as a,ca as S,cb as y,gb as c,hb as s,jb as b,k as _,lb as C,nb as v,oc as D,wa as r}from"./chunk-BKAIPBB7.js";var Z=()=>[10,20,50];function ee(e,t){e&1&&(i(0,"th",16),o(1," \u0418\u043C\u0435 "),a())}function te(e,t){if(e&1){let n=b();i(0,"td",17)(1,"button",18),C("click",function(){let f=M(n).$implicit,l=v();return S(l.viewCompanyDetails(f.id))}),o(2),a()()}if(e&2){let n=t.$implicit;r(2),d(" ",n.name," ")}}function ne(e,t){e&1&&(i(0,"th",16),o(1," \u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),a())}function ie(e,t){if(e&1&&(i(0,"td",17),o(1),a()),e&2){let n=t.$implicit;r(),d(" ",n.description," ")}}function ae(e,t){e&1&&(i(0,"th",16),o(1," \u0418\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u044F "),a())}function oe(e,t){if(e&1&&(i(0,"td",17),o(1),a()),e&2){let n=t.$implicit;r(),d(" ",n.industry," ")}}function me(e,t){e&1&&(i(0,"th",16),o(1," \u0414\u044A\u0440\u0436\u0430\u0432\u0430 "),a())}function re(e,t){if(e&1&&(i(0,"td",17),o(1),a()),e&2){let n=t.$implicit;r(),d(" ",n.country," ")}}function pe(e,t){e&1&&y(0,"tr",19)}function le(e,t){e&1&&y(0,"tr",20)}var Y=class e{constructor(t,n){this.companyService=t;this.router=n;this.searchSubject.pipe(g(1e3)).subscribe(m=>{this.searchQuery=m,this.currentPage=0,this.loadCompanies()})}companies=new X;displayedColumns=["name","description","industry","country"];totalCompanies=0;pageSize=20;currentPage=0;searchQuery="";searchSubject=new _;ngOnInit(){this.loadCompanies()}loadCompanies(){this.companyService.searchCompanies(this.searchQuery,this.currentPage,this.pageSize).subscribe(t=>{this.companies.data=t.content,this.totalCompanies=t.totalElements})}onSearch(t){let n=t.target;this.searchSubject.next(n.value)}onPageChange(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.loadCompanies()}viewCompanyDetails(t){this.router.navigate(["/companies",t])}static \u0275fac=function(n){return new(n||e)(h(H),h(E))};static \u0275cmp=x({type:e,selectors:[["app-company-list"]],decls:26,vars:7,consts:[[1,"header",2,"display","flex","flex-direction","column","align-items","center"],[2,"text-align","center","margin-bottom","24px","display","flex","align-items","center","justify-content","center"],[2,"font-size","20px","margin-left","8px","color","#1976d2","vertical-align","middle"],["appearance","outline",1,"search-bar",2,"width","350px","max-width","100%"],["matInput","","placeholder","\u0422\u044A\u0440\u0441\u0435\u043D\u0435 \u043F\u043E \u0438\u043C\u0435, VAT, \u0434\u044A\u0440\u0436\u0430\u0432\u0430, \u0438\u043D\u0434\u0443\u0441\u0442\u0440\u0438\u044F \u0438 \u0434\u0440.",3,"keyup"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","industry"],["matColumnDef","country"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,m){n&1&&(i(0,"div",0)(1,"h2",1),o(2," \u0412\u0441\u0438\u0447\u043A\u0438 \u0444\u0438\u0440\u043C\u0438 "),i(3,"mat-icon",2),o(4,"business"),a()(),i(5,"mat-form-field",3)(6,"mat-label"),o(7,"\u0422\u044A\u0440\u0441\u0435\u043D\u0435"),a(),i(8,"input",4),C("keyup",function(l){return m.onSearch(l)}),a()()(),i(9,"div",5)(10,"table",6),c(11,7),p(12,ee,2,0,"th",8)(13,te,3,1,"td",9),s(),c(14,10),p(15,ne,2,0,"th",8)(16,ie,2,1,"td",9),s(),c(17,11),p(18,ae,2,0,"th",8)(19,oe,2,1,"td",9),s(),c(20,12),p(21,me,2,0,"th",8)(22,re,2,1,"td",9),s(),p(23,pe,1,0,"tr",13)(24,le,1,0,"tr",14),a()(),i(25,"mat-paginator",15),C("page",function(l){return m.onPageChange(l)}),a()),n&2&&(r(10),u("dataSource",m.companies),r(13),u("matHeaderRowDef",m.displayedColumns),r(),u("matRowDefColumns",m.displayedColumns),r(),u("length",m.totalCompanies)("pageSize",m.pageSize)("pageSizeOptions",w(6,Z)))},dependencies:[k,L,T,A,W,$,Q,q,B,V,G,N,U,J,K,D,R,z,O,j,F,I,P],styles:['@charset "UTF-8";.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.header[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;max-width:400px}.table-container[_ngcontent-%COMP%]{margin-top:20px;overflow-x:auto}mat-paginator[_ngcontent-%COMP%]{margin-top:20px}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.search-bar[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{font-size:12px}}'],changeDetection:0})};export{Y as CompanyListComponent};
