import{a as Ue,b as qe,c as Qe,d as Ge,e as We,f as Ke}from"./chunk-GDILFSMQ.js";import{a as ci,b as si}from"./chunk-NU6S7GW7.js";import"./chunk-D4TCZGYH.js";import{a as Je,b as ti,c as ei,e as ii,f as ni,g as ai,h as Pt}from"./chunk-V22I5E4T.js";import{a as $e,b as Ye}from"./chunk-3T42K4VL.js";import{a as Q,b as G}from"./chunk-ZOAOOZOY.js";import{b as ri}from"./chunk-KN5H3PP4.js";import{a as Tt,b as Ft,c as Lt,d as Rt,e as Bt,f as zt,g as Vt,h as Nt,i as jt,j as Ht,k as Ut}from"./chunk-LIL5WR5X.js";import{A as kt,D as Xe,F as yt,I as Ze,J as te,K as wt,P as Mt,Q as Ot,c as dt,e as h,g as ut,h as pt,j as Ae,l as ht,m as _t,n as Ee,o as gt,p as ft,q as bt,u as vt,w as xt,z as Ct}from"./chunk-7RFGPB7Y.js";import{A as je,B as U,C as q,n as Ne,q as Jt}from"./chunk-IFXUHTWD.js";import{$a as v,A as he,Ab as st,Ad as He,Bb as r,Bc as Me,Bd as j,Cb as C,Cc as mt,Cd as H,Db as A,Dc as Oe,Eb as tt,Ec as Pe,Ed as T,F as _e,Fa as g,Fd as oi,Gc as Se,Hd as St,I as ge,Id as At,Ja as k,Jd as Et,Ka as rt,Kb as lt,La as M,Lc as De,Md as Dt,Na as V,Nc as Ie,Ob as Ce,Od as It,P as fe,Pa as b,Qb as ke,Sc as Te,Va as X,W as at,Wa as d,Wc as Fe,X as ot,Xa as u,Xc as Le,Y as W,Z as K,Za as be,_ as f,_a as ve,ab as o,ba as E,bb as n,ca as D,cb as m,fa as $,gb as y,h as ue,hb as w,id as Re,jb as L,ka as Yt,lb as _,mc as ye,nb as x,oa as z,ob as Z,oc as I,pa as Y,pb as O,pd as N,q as pe,qb as R,rb as ct,sb as P,tb as S,tc as Zt,td as Be,uc as we,ud as ze,vd as Ve,wa as s,yb as xe,za as Xt,zb as J,zd as et}from"./chunk-BKAIPBB7.js";var qt=class t{constructor(i,e){this.authService=i;this.router=e}canActivate(i,e){return this.authService.getAccessToken()?this.authService.isAdmin()?!0:(this.router.navigate(["/"]),!1):(this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)}static \u0275fac=function(e){return new(e||t)(K(ri),K(mt))};static \u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"})};var li=["*"],mi=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,Mi=["unscopedContent"],Oi=["text"],Pi=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Si=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var Ai=new W("ListOption"),ee=(()=>{class t{_elementRef=f(Y);constructor(){}static \u0275fac=function(a){return new(a||t)};static \u0275dir=M({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return t})(),Ei=(()=>{class t{_elementRef=f(Y);constructor(){}static \u0275fac=function(a){return new(a||t)};static \u0275dir=M({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return t})(),Di=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275dir=M({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return t})(),di=(()=>{class t{_listOption=f(Ai,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(a){return new(a||t)};static \u0275dir=M({type:t,hostVars:4,hostBindings:function(a,c){a&2&&J("mdc-list-item__start",c._isAlignedAtStart())("mdc-list-item__end",!c._isAlignedAtStart())}})}return t})(),Ii=(()=>{class t extends di{static \u0275fac=(()=>{let e;return function(c){return(e||(e=z(t)))(c||t)}})();static \u0275dir=M({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[V]})}return t})(),ie=(()=>{class t extends di{static \u0275fac=(()=>{let e;return function(c){return(e||(e=z(t)))(c||t)}})();static \u0275dir=M({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[V]})}return t})(),Ti=new W("MAT_LIST_CONFIG"),it=(()=>{class t{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=N(e)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(N(e))}_disabled=Yt(!1);_defaultOptions=f(Ti,{optional:!0});static \u0275fac=function(a){return new(a||t)};static \u0275dir=M({type:t,hostVars:1,hostBindings:function(a,c){a&2&&X("aria-disabled",c.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return t})(),Fi=(()=>{class t{_elementRef=f(Y);_ngZone=f(Xt);_listBase=f(it,{optional:!0});_platform=f(De);_hostElement;_isButtonElement;_noopAnimations=Be();_avatars;_icons;set lines(e){this._explicitLines=Ie(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=N(e)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(e){this._disabled.set(N(e))}_disabled=Yt(!1);_subscriptions=new ue;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){f(Te).load(Re);let e=f(Ve,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new ze(this,this._ngZone,this._hostElement,this._platform,f($)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(he(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let a=this._explicitLines??this._inferLinesFromContent(),c=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",a<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",a<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",a===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",a===3),this._hasUnscopedTextContent){let l=this._titles.length===0&&a===1;c.classList.toggle("mdc-list-item__primary-text",l),c.classList.toggle("mdc-list-item__secondary-text",!l)}else c.classList.remove("mdc-list-item__primary-text"),c.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(a){return new(a||t)};static \u0275dir=M({type:t,contentQueries:function(a,c,l){if(a&1&&(R(l,Ii,4),R(l,ie,4)),a&2){let p;P(p=S())&&(c._avatars=p),P(p=S())&&(c._icons=p)}},hostVars:4,hostBindings:function(a,c){a&2&&(X("aria-disabled",c.disabled)("disabled",c._isButtonElement&&c.disabled||null),J("mdc-list-item--disabled",c.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return t})();var ui=(()=>{class t extends it{static \u0275fac=(()=>{let e;return function(c){return(e||(e=z(t)))(c||t)}})();static \u0275cmp=k({type:t,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[lt([{provide:it,useExisting:t}]),V],ngContentSelectors:li,decls:1,vars:0,template:function(a,c){a&1&&(Z(),O(0))},styles:[mi],encapsulation:2,changeDetection:0})}return t})(),Qt=(()=>{class t extends Fi{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=N(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(c){return(e||(e=z(t)))(c||t)}})();static \u0275cmp=k({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(a,c,l){if(a&1&&(R(l,Ei,5),R(l,ee,5),R(l,Di,5)),a&2){let p;P(p=S())&&(c._lines=p),P(p=S())&&(c._titles=p),P(p=S())&&(c._meta=p)}},viewQuery:function(a,c){if(a&1&&(ct(Mi,5),ct(Oi,5)),a&2){let l;P(l=S())&&(c._unscopedContent=l.first),P(l=S())&&(c._itemText=l.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(a,c){a&2&&(X("aria-current",c._getAriaCurrent()),J("mdc-list-item--activated",c.activated)("mdc-list-item--with-leading-avatar",c._avatars.length!==0)("mdc-list-item--with-leading-icon",c._icons.length!==0)("mdc-list-item--with-trailing-meta",c._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",c._hasBothLeadingAndTrailing())("_mat-animation-noopable",c._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[V],ngContentSelectors:Si,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(a,c){if(a&1){let l=L();Z(Pi),O(0),o(1,"span",1),O(2,1),O(3,2),o(4,"span",2,0),_("cdkObserveContent",function(){return E(l),D(c._updateItemLines(!0))}),O(6,3),n()(),O(7,4),O(8,5),m(9,"div",3)}},dependencies:[Fe],encapsulation:2,changeDetection:0})}return t})();var pi=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275dir=M({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"]})}return t})();var hi=(()=>{class t extends it{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(c){return(e||(e=z(t)))(c||t)}})();static \u0275cmp=k({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[lt([{provide:it,useExisting:t}]),V],ngContentSelectors:li,decls:1,vars:0,template:function(a,c){a&1&&(Z(),O(0))},styles:[mi],encapsulation:2,changeDetection:0})}return t})();var Gt=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=rt({type:t});static \u0275inj=ot({imports:[Le,et,He,Ze,Ye]})}return t})();var Wt=class t{constructor(i){this.router=i}navigateTo(i){this.router.navigate(["/admin",i])}goHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||t)(g(mt))};static \u0275cmp=k({type:t,selectors:[["app-admin-layout"]],decls:41,vars:0,consts:[[1,"admin-layout"],["color","primary",1,"admin-toolbar"],["mat-icon-button","",3,"click"],[1,"toolbar-title"],[1,"spacer"],[1,"admin-container"],["mode","side","opened","",1,"admin-sidenav"],["mat-subheader",""],["mat-list-item","","routerLink","/admin/credit-packages","routerLinkActive","active"],["matListItemIcon",""],["matListItemTitle",""],["mat-list-item","","routerLink","/admin/manual-credits","routerLinkActive","active"],["mat-list-item","","routerLink","/admin/companies","routerLinkActive","active"],["mat-list-item","",3,"click"],[1,"admin-content"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),_("click",function(){return a.goHome()}),o(3,"mat-icon"),r(4,"home"),n()(),o(5,"span",3),r(6,"Admin Panel"),n(),m(7,"span",4),n(),o(8,"mat-sidenav-container",5)(9,"mat-sidenav",6)(10,"mat-nav-list")(11,"h3",7),r(12,"\u041A\u0440\u0435\u0434\u0438\u0442\u0438"),n(),o(13,"a",8)(14,"mat-icon",9),r(15,"shopping_cart"),n(),o(16,"span",10),r(17,"\u041A\u0440\u0435\u0434\u0438\u0442\u043D\u0438 \u043F\u0430\u043A\u0435\u0442\u0438"),n()(),o(18,"a",11)(19,"mat-icon",9),r(20,"card_giftcard"),n(),o(21,"span",10),r(22,"\u0411\u043E\u043D\u0443\u0441 \u043A\u0440\u0435\u0434\u0438\u0442\u0438"),n()(),m(23,"mat-divider"),o(24,"h3",7),r(25,"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435"),n(),o(26,"a",12)(27,"mat-icon",9),r(28,"business"),n(),o(29,"span",10),r(30,"\u0412\u0441\u0438\u0447\u043A\u0438 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438"),n()(),m(31,"mat-divider"),o(32,"h3",7),r(33,"\u0414\u0440\u0443\u0433\u0438"),n(),o(34,"a",13),_("click",function(){return a.goHome()}),o(35,"mat-icon",9),r(36,"exit_to_app"),n(),o(37,"span",10),r(38,"\u0418\u0437\u0445\u043E\u0434 \u043E\u0442 Admin"),n()()()(),o(39,"mat-sidenav-content",14),m(40,"router-outlet"),n()()())},dependencies:[I,Se,Me,Oe,Pe,Ge,qe,Qe,Ue,Gt,hi,Qt,ie,pi,$e,ee,q,U,Ke,We,T,j],styles:[".admin-layout[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}.admin-layout[_ngcontent-%COMP%]   .admin-toolbar[_ngcontent-%COMP%]{z-index:1000}.admin-layout[_ngcontent-%COMP%]   .admin-toolbar[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;margin-left:16px}.admin-layout[_ngcontent-%COMP%]   .admin-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]{flex:1;height:calc(100vh - 64px)}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]{width:280px;border-right:1px solid #e0e0e0;background:#fafafa}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding-top:16px}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   h3[mat-subheader][_ngcontent-%COMP%]{color:#666;font-weight:600;font-size:.875rem;text-transform:uppercase;padding:8px 16px;margin-top:16px}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   h3[mat-subheader][_ngcontent-%COMP%]:first-child{margin-top:0}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]{margin:4px 8px;border-radius:8px;transition:background-color .2s ease}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]:hover{background-color:#1976d214}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[mat-list-item].active[_ngcontent-%COMP%]{background-color:#1976d21f;color:#1976d2}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[mat-list-item].active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[mat-list-item][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:16px 0}.admin-layout[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]   .admin-content[_ngcontent-%COMP%]{background:#f5f5f5;overflow-y:auto}"]})};var F=class t{constructor(i){this.http=i}apiUrl=oi.apiUrl;getAllCreditPackages(){return this.http.get(`${this.apiUrl}/admin/credit-packages`)}getCreditPackageById(i){return this.http.get(`${this.apiUrl}/admin/credit-packages/${i}`)}createCreditPackage(i){return this.http.post(`${this.apiUrl}/admin/credit-packages`,i)}updateCreditPackage(i,e){return this.http.put(`${this.apiUrl}/admin/credit-packages/${i}`,e)}deleteCreditPackage(i){return this.http.delete(`${this.apiUrl}/admin/credit-packages/${i}`)}giveBonusCredits(i,e){let a=new Zt().set("email",i).set("credits",e.credits.toString()).set("reason",e.reason||"");return this.http.post(`${this.apiUrl}/admin/credits/users/bonus`,null,{params:a})}getUserCreditsHistory(i){let e=new Zt().set("email",i);return this.http.get(`${this.apiUrl}/admin/credits/users/history`,{params:e})}searchUsers(i){return this.http.post(`${this.apiUrl}/admin/users/search`,i)}static \u0275fac=function(e){return new(e||t)(K(we))};static \u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"})};function Vi(t,i){t&1&&(o(0,"mat-error"),r(1,"\u041A\u043E\u0434\u044A\u0442 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u0435\u043D"),n())}function Ni(t,i){t&1&&(o(0,"mat-error"),r(1,"\u0418\u043C\u0435\u0442\u043E \u043D\u0430 \u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E"),n())}function ji(t,i){t&1&&(o(0,"mat-error"),r(1,"\u0418\u043C\u0435\u0442\u043E \u043D\u0430 \u0430\u043D\u0433\u043B\u0438\u0439\u0441\u043A\u0438 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E"),n())}function Hi(t,i){t&1&&(o(0,"mat-error"),r(1,"\u0411\u0440\u043E\u044F\u0442 \u043A\u0440\u0435\u0434\u0438\u0442\u0438 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u0435\u043D"),n())}function Ui(t,i){t&1&&(o(0,"mat-error"),r(1,"\u041C\u0438\u043D\u0438\u043C\u0443\u043C 1 \u043A\u0440\u0435\u0434\u0438\u0442"),n())}function qi(t,i){t&1&&(o(0,"mat-error"),r(1,"\u0426\u0435\u043D\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u0430"),n())}function Qi(t,i){t&1&&(o(0,"mat-error"),r(1,"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u043D\u0430 \u0446\u0435\u043D\u0430 0.01 \u043B\u0432"),n())}function Gi(t,i){t&1&&(o(0,"mat-error"),r(1,"\u0414\u0414\u0421 \u0441\u0442\u0430\u0432\u043A\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u0430"),n())}function Wi(t,i){t&1&&(o(0,"mat-error"),r(1,"\u0420\u0435\u0434\u044A\u0442 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u0435\u043D"),n())}var nt=class t{constructor(i,e,a,c,l){this.fb=i;this.adminCreditService=e;this.dialogRef=a;this.snackBar=c;this.data=l;this.packageForm=this.fb.group({code:["",[h.required]],nameBg:["",[h.required]],nameEn:["",[h.required]],credits:[0,[h.required,h.min(1)]],priceWithVat:[0,[h.required,h.min(.01)]],vatRate:[.2,[h.required,h.min(0)]],sortOrder:[1,[h.required,h.min(1)]],active:[!0]})}packageForm;isEditMode=!1;submitting=!1;ngOnInit(){if(this.data.mode==="edit"&&this.data.package){this.isEditMode=!0;let i=this.data.package;this.packageForm.patchValue({code:i.code,nameBg:i.nameBg,nameEn:i.nameEn,credits:i.credits,priceWithVat:i.priceWithVat,vatRate:i.vatRate,sortOrder:i.sortOrder,active:i.active})}}onSubmit(){if(!this.packageForm.valid)return;this.submitting=!0;let i=this.packageForm.value,e={code:i.code,nameBg:i.nameBg,nameEn:i.nameEn,credits:i.credits,priceWithVat:parseFloat(i.priceWithVat.toFixed(2)),priceWithoutVat:parseFloat((i.priceWithVat/(1+i.vatRate)).toFixed(2)),vatRate:parseFloat(i.vatRate.toFixed(2)),sortOrder:i.sortOrder,active:i.active};this.isEditMode&&(e.id=this.data.package.id),(this.isEditMode?this.adminCreditService.updateCreditPackage(this.data.package.id.toString(),e):this.adminCreditService.createCreditPackage(e)).subscribe({next:()=>{this.snackBar.open(this.isEditMode?"\u041F\u0430\u043A\u0435\u0442\u044A\u0442 \u0435 \u043E\u0431\u043D\u043E\u0432\u0435\u043D \u0443\u0441\u043F\u0435\u0448\u043D\u043E":"\u041F\u0430\u043A\u0435\u0442\u044A\u0442 \u0435 \u0441\u044A\u0437\u0434\u0430\u0434\u0435\u043D \u0443\u0441\u043F\u0435\u0448\u043D\u043E","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3}),this.dialogRef.close(!0)},error:c=>{console.error("Error saving package:",c),this.snackBar.open("\u0413\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u043F\u0430\u0437\u0432\u0430\u043D\u0435 \u043D\u0430 \u043F\u0430\u043A\u0435\u0442\u0430","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3}),this.submitting=!1}})}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||t)(g(vt),g(F),g(Je),g(Q),g(ti))};static \u0275cmp=k({type:t,selectors:[["app-credit-package-form"]],decls:49,vars:13,consts:[["mat-dialog-title",""],[1,"package-form",3,"formGroup"],["appearance","fill"],["matInput","","formControlName","code","required",""],["matInput","","formControlName","nameBg","required",""],["matInput","","formControlName","nameEn","required",""],["matInput","","type","number","formControlName","credits","required",""],["matInput","","type","number","step","0.01","formControlName","priceWithVat","required",""],["matInput","","type","number","step","0.01","formControlName","vatRate","required",""],["matInput","","type","number","formControlName","sortOrder","required",""],[1,"checkboxes"],["formControlName","active"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(e,a){if(e&1&&(o(0,"h2",0),r(1),n(),o(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),r(6,"\u041A\u043E\u0434 \u043D\u0430 \u043F\u0430\u043A\u0435\u0442\u0430"),n(),m(7,"input",3),d(8,Vi,2,0,"mat-error"),n(),o(9,"mat-form-field",2)(10,"mat-label"),r(11,"\u0418\u043C\u0435 (BG)"),n(),m(12,"input",4),d(13,Ni,2,0,"mat-error"),n(),o(14,"mat-form-field",2)(15,"mat-label"),r(16,"\u0418\u043C\u0435 (EN)"),n(),m(17,"input",5),d(18,ji,2,0,"mat-error"),n(),o(19,"mat-form-field",2)(20,"mat-label"),r(21,"\u0411\u0440\u043E\u0439 \u043A\u0440\u0435\u0434\u0438\u0442\u0438"),n(),m(22,"input",6),d(23,Hi,2,0,"mat-error"),d(24,Ui,2,0,"mat-error"),n(),o(25,"mat-form-field",2)(26,"mat-label"),r(27,"\u0426\u0435\u043D\u0430 \u0441 \u0414\u0414\u0421 (\u0435\u0432\u0440\u043E)"),n(),m(28,"input",7),d(29,qi,2,0,"mat-error"),d(30,Qi,2,0,"mat-error"),n(),o(31,"mat-form-field",2)(32,"mat-label"),r(33,"\u0414\u0414\u0421 \u0441\u0442\u0430\u0432\u043A\u0430 (0.2 = 20%)"),n(),m(34,"input",8),d(35,Gi,2,0,"mat-error"),n(),o(36,"mat-form-field",2)(37,"mat-label"),r(38,"\u0420\u0435\u0434 \u043D\u0430 \u0441\u043E\u0440\u0442\u0438\u0440\u0430\u043D\u0435"),n(),m(39,"input",9),d(40,Wi,2,0,"mat-error"),n(),o(41,"div",10)(42,"mat-checkbox",11),r(43,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n()()()(),o(44,"mat-dialog-actions",12)(45,"button",13),_("click",function(){return a.onCancel()}),r(46,"\u041E\u0442\u043A\u0430\u0437"),n(),o(47,"button",14),_("click",function(){return a.onSubmit()}),r(48),n()()),e&2){let c,l,p,re,ce,se,le,me,de;s(),C(a.isEditMode?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u0430\u0439 \u043F\u0430\u043A\u0435\u0442":"\u0414\u043E\u0431\u0430\u0432\u0438 \u043D\u043E\u0432 \u043F\u0430\u043A\u0435\u0442"),s(2),v("formGroup",a.packageForm),s(5),u((c=a.packageForm.get("code"))!=null&&c.hasError("required")?8:-1),s(5),u((l=a.packageForm.get("nameBg"))!=null&&l.hasError("required")?13:-1),s(5),u((p=a.packageForm.get("nameEn"))!=null&&p.hasError("required")?18:-1),s(5),u((re=a.packageForm.get("credits"))!=null&&re.hasError("required")?23:-1),s(),u((ce=a.packageForm.get("credits"))!=null&&ce.hasError("min")?24:-1),s(5),u((se=a.packageForm.get("priceWithVat"))!=null&&se.hasError("required")?29:-1),s(),u((le=a.packageForm.get("priceWithVat"))!=null&&le.hasError("min")?30:-1),s(5),u((me=a.packageForm.get("vatRate"))!=null&&me.hasError("required")?35:-1),s(5),u((de=a.packageForm.get("sortOrder"))!=null&&de.hasError("required")?40:-1),s(7),v("disabled",!a.packageForm.valid||a.submitting),s(),A(" ",a.submitting?"\u0417\u0430\u043F\u0430\u0437\u0432\u0430\u043D\u0435...":"\u0417\u0430\u043F\u0430\u0437\u0438"," ")}},dependencies:[I,xt,ht,dt,_t,ut,pt,bt,gt,ft,Pt,ii,ai,ni,wt,yt,Ct,kt,Ot,Mt,T,H,si,ci,G],styles:[".package-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;min-width:400px}.package-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.package-form[_ngcontent-%COMP%]   .checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:8px}"]})};function Yi(t,i){t&1&&(o(0,"div",3)(1,"p"),r(2,"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043D\u0435..."),n()())}function Xi(t,i){t&1&&(o(0,"th",16),r(1,"\u0418\u043C\u0435"),n())}function Zi(t,i){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let e=i.$implicit;s(),C(e.nameBg)}}function Ji(t,i){t&1&&(o(0,"th",16),r(1,"\u041A\u0440\u0435\u0434\u0438\u0442\u0438"),n())}function tn(t,i){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let e=i.$implicit;s(),C(e.credits)}}function en(t,i){t&1&&(o(0,"th",16),r(1,"\u0426\u0435\u043D\u0430"),n())}function nn(t,i){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let e=i.$implicit,a=x(2);s(),C(a.formatPrice(e.priceWithVat))}}function an(t,i){t&1&&(o(0,"th",16),r(1,"\u041A\u043E\u0434"),n())}function on(t,i){if(t&1&&(o(0,"td",17),r(1),n()),t&2){let e=i.$implicit;s(),C(e.code||"-")}}function rn(t,i){t&1&&(o(0,"th",16),r(1,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n())}function cn(t,i){if(t&1&&(o(0,"td",17)(1,"mat-icon"),r(2),n()()),t&2){let e=i.$implicit;s(),xe("color",e.active?"green":"red"),s(),A(" ",e.active?"check_circle":"cancel"," ")}}function sn(t,i){t&1&&(o(0,"th",16),r(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F"),n())}function ln(t,i){if(t&1){let e=L();o(0,"td",17)(1,"button",18),_("click",function(){let c=E(e).$implicit,l=x(2);return D(l.openEditDialog(c))}),o(2,"mat-icon"),r(3,"edit"),n()(),o(4,"button",19),_("click",function(){let c=E(e).$implicit,l=x(2);return D(l.deletePackage(c))}),o(5,"mat-icon"),r(6,"delete"),n()()()}}function mn(t,i){t&1&&m(0,"tr",20)}function dn(t,i){t&1&&m(0,"tr",21)}function un(t,i){t&1&&(o(0,"div",15)(1,"p"),r(2,"\u041D\u044F\u043C\u0430 \u043D\u0430\u043B\u0438\u0447\u043D\u0438 \u043F\u0430\u043A\u0435\u0442\u0438"),n()())}function pn(t,i){if(t&1&&(o(0,"table",4),y(1,5),b(2,Xi,2,0,"th",6)(3,Zi,2,1,"td",7),w(),y(4,8),b(5,Ji,2,0,"th",6)(6,tn,2,1,"td",7),w(),y(7,9),b(8,en,2,0,"th",6)(9,nn,2,1,"td",7),w(),y(10,10),b(11,an,2,0,"th",6)(12,on,2,1,"td",7),w(),y(13,11),b(14,rn,2,0,"th",6)(15,cn,3,3,"td",7),w(),y(16,12),b(17,sn,2,0,"th",6)(18,ln,7,0,"td",7),w(),b(19,mn,1,0,"tr",13)(20,dn,1,0,"tr",14),n(),d(21,un,3,0,"div",15)),t&2){let e=x();v("dataSource",e.packages),s(19),v("matHeaderRowDef",e.displayedColumns),s(),v("matRowDefColumns",e.displayedColumns),s(),u(e.packages.length===0?21:-1)}}var Kt=class t{constructor(i,e,a){this.adminCreditService=i;this.dialog=e;this.snackBar=a}packages=[];displayedColumns=["nameBg","credits","price","code","active","actions"];loading=!1;ngOnInit(){this.loadPackages()}loadPackages(){this.loading=!0,this.adminCreditService.getAllCreditPackages().subscribe({next:i=>{this.packages=i,this.loading=!1},error:i=>{console.error("Error loading packages:",i),this.snackBar.open("\u0413\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0440\u0435\u0436\u0434\u0430\u043D\u0435 \u043D\u0430 \u043F\u0430\u043A\u0435\u0442\u0438\u0442\u0435","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3}),this.loading=!1}})}openCreateDialog(){this.dialog.open(nt,{width:"600px",data:{mode:"create"}}).afterClosed().subscribe(e=>{e&&this.loadPackages()})}openEditDialog(i){this.dialog.open(nt,{width:"600px",data:{mode:"edit",package:i}}).afterClosed().subscribe(a=>{a&&this.loadPackages()})}deletePackage(i){confirm(`\u0421\u0438\u0433\u0443\u0440\u0435\u043D \u043B\u0438 \u0441\u0438, \u0447\u0435 \u0438\u0441\u043A\u0430\u0448 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0448 \u043F\u0430\u043A\u0435\u0442 "${i.nameBg}"?`)&&this.adminCreditService.deleteCreditPackage(i.id.toString()).subscribe({next:()=>{this.snackBar.open("\u041F\u0430\u043A\u0435\u0442\u044A\u0442 \u0435 \u0438\u0437\u0442\u0440\u0438\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3}),this.loadPackages()},error:e=>{console.error("Error deleting package:",e),this.snackBar.open("\u0413\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0438\u0437\u0442\u0440\u0438\u0432\u0430\u043D\u0435 \u043D\u0430 \u043F\u0430\u043A\u0435\u0442\u0430","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3})}})}formatPrice(i){return i?i.toFixed(2)+" \u20AC":"N/A"}getName(i){return i.nameBg||i.nameEn||"-"}static \u0275fac=function(e){return new(e||t)(g(F),g(ei),g(Q))};static \u0275cmp=k({type:t,selectors:[["app-credit-packages"]],decls:14,vars:1,consts:[[1,"credit-packages-container"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"loading-spinner"],["mat-table","",1,"packages-table",3,"dataSource"],["matColumnDef","nameBg"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","credits"],["matColumnDef","price"],["matColumnDef","code"],["matColumnDef","active"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-data"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u0430\u0439",3,"click"],["mat-icon-button","","color","warn","matTooltip","\u0418\u0437\u0442\u0440\u0438\u0439",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,a){e&1&&(o(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"h2"),r(5,"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430 \u043A\u0440\u0435\u0434\u0438\u0442\u043D\u0438 \u043F\u0430\u043A\u0435\u0442\u0438"),n()(),o(6,"div",1)(7,"button",2),_("click",function(){return a.openCreateDialog()}),o(8,"mat-icon"),r(9,"add"),n(),r(10," \u0414\u043E\u0431\u0430\u0432\u0438 \u043F\u0430\u043A\u0435\u0442 "),n()()(),o(11,"mat-card-content"),d(12,Yi,3,0,"div",3)(13,pn,22,4),n()()()),e&2&&(s(12),u(a.loading?12:13))},dependencies:[I,Ut,Tt,Lt,Vt,Rt,Ft,Nt,Bt,zt,jt,Ht,T,H,j,q,U,It,St,Et,Dt,At,Pt,G],styles:[".credit-packages-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex:1}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#1976d2}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:40px}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .packages-table[_ngcontent-%COMP%]{width:100%;margin-top:20px}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .packages-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#555}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .packages-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .packages-table[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.credit-packages-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#999}"]})};var hn=new W("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let t=f($);return()=>Jt(t)}});function _n(t){let i=f($);return()=>Jt(i)}var gn={provide:hn,deps:[],useFactory:_n};var bi=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=rt({type:t});static \u0275inj=ot({providers:[gn],imports:[je,te,et,Ne,te,et]})}return t})();var fn=(t,i)=>i.id;function bn(t,i){if(t&1&&(o(0,"mat-form-field",2)(1,"mat-label"),r(2,"\u0422\u044A\u0440\u0441\u0438 \u043F\u043E\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043B \u043F\u043E email"),n(),m(3,"input",13),o(4,"mat-icon",14),r(5,"search"),n()()),t&2){let e=x();s(3),v("formControl",e.searchControl)}}function vn(t,i){if(t&1){let e=L();o(0,"mat-list-item",16),_("click",function(){let c=E(e).$implicit,l=x(2);return D(l.selectUser(c))}),o(1,"div",17)(2,"span",18),r(3),n(),o(4,"span",19),r(5),n(),o(6,"span",20),r(7),n()()()}if(t&2){let e=i.$implicit;s(3),tt("",e.firstName," ",e.lastName),s(2),C(e.email),s(2),A("\u041A\u0440\u0435\u0434\u0438\u0442\u0438: ",e.freeCredits)}}function xn(t,i){if(t&1&&(o(0,"mat-list",3),be(1,vn,8,4,"mat-list-item",15,fn),n()),t&2){let e=x();s(),ve(e.searchResults)}}function Cn(t,i){if(t&1){let e=L();o(0,"div",4)(1,"mat-icon"),r(2,"person"),n(),o(3,"div",21)(4,"strong"),r(5),n(),o(6,"span"),r(7),n(),o(8,"span"),r(9),n()(),o(10,"button",22),_("click",function(){E(e);let c=x();return D(c.clearSelection())}),o(11,"mat-icon"),r(12,"close"),n()()()}if(t&2){let e=x();s(5),tt("",e.selectedUser.firstName," ",e.selectedUser.lastName),s(2),C(e.selectedUser.email),s(2),tt("ID: ",e.selectedUser.id," | \u0422\u0435\u043A\u0443\u0449\u0438 \u043A\u0440\u0435\u0434\u0438\u0442\u0438: ",e.selectedUser.freeCredits)}}function kn(t,i){t&1&&(o(0,"mat-error"),r(1,"\u0411\u0440\u043E\u044F\u0442 \u043A\u0440\u0435\u0434\u0438\u0442\u0438 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u0435\u043D"),n())}function yn(t,i){t&1&&(o(0,"mat-error"),r(1,"\u041C\u0438\u043D\u0438\u043C\u0443\u043C 1 \u043A\u0440\u0435\u0434\u0438\u0442"),n())}function wn(t,i){t&1&&(o(0,"mat-error"),r(1,"\u041F\u0440\u0438\u0447\u0438\u043D\u0430\u0442\u0430 \u0435 \u0437\u0430\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u0430"),n())}function Mn(t,i){t&1&&(o(0,"div",28)(1,"p"),r(2,"\u0417\u0430\u0440\u0435\u0436\u0434\u0430\u043D\u0435 \u043D\u0430 \u0438\u0441\u0442\u043E\u0440\u0438\u044F..."),n()())}function On(t,i){t&1&&(o(0,"div",29)(1,"p"),r(2,"\u041D\u044F\u043C\u0430 \u043D\u0430\u043B\u0438\u0447\u043D\u0438 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438"),n()())}function Pn(t,i){t&1&&(o(0,"th",39),r(1,"\u0422\u0438\u043F"),n())}function Sn(t,i){if(t&1&&(o(0,"td",40)(1,"span"),r(2),n()()),t&2){let e=i.$implicit;s(),st("transaction-type "+e.type.toLowerCase()),s(),A(" ",e.type," ")}}function An(t,i){t&1&&(o(0,"th",39),r(1,"\u041A\u0440\u0435\u0434\u0438\u0442\u0438"),n())}function En(t,i){if(t&1&&(o(0,"td",40)(1,"span"),r(2),n()()),t&2){let e=i.$implicit;s(),st(e.creditsDelta>0?"credits-positive":"credits-negative"),s(),tt(" ",e.creditsDelta>0?"+":"","",e.creditsDelta," ")}}function Dn(t,i){t&1&&(o(0,"th",39),r(1,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),n())}function In(t,i){if(t&1&&(o(0,"td",40),r(1),n()),t&2){let e=i.$implicit;s(),C(e.description||"-")}}function Tn(t,i){t&1&&(o(0,"th",39),r(1,"\u0414\u0430\u0442\u0430"),n())}function Fn(t,i){if(t&1&&(o(0,"td",40),r(1),Ce(2,"date"),n()),t&2){let e=i.$implicit;s(),A(" ",ke(2,1,e.createdAt,"dd.MM.yyyy HH:mm")," ")}}function Ln(t,i){t&1&&m(0,"tr",41)}function Rn(t,i){t&1&&m(0,"tr",42)}function Bn(t,i){if(t&1&&(o(0,"table",30),y(1,31),b(2,Pn,2,0,"th",32)(3,Sn,3,3,"td",33),w(),y(4,34),b(5,An,2,0,"th",32)(6,En,3,4,"td",33),w(),y(7,35),b(8,Dn,2,0,"th",32)(9,In,2,1,"td",33),w(),y(10,36),b(11,Tn,2,0,"th",32)(12,Fn,3,4,"td",33),w(),b(13,Ln,1,0,"tr",37)(14,Rn,1,0,"tr",38),n()),t&2){let e=x(2);v("dataSource",e.userHistory.transactions),s(13),v("matHeaderRowDef",e.displayedColumns),s(),v("matRowDefColumns",e.displayedColumns)}}function zn(t,i){if(t&1&&(o(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"mat-icon"),r(5,"history"),n(),r(6," \u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043D\u0430 \u043A\u0440\u0435\u0434\u0438\u0442\u0438\u0442\u0435 "),n()()(),o(7,"mat-card-content")(8,"div",23)(9,"div",24)(10,"span",25),r(11,"\u041F\u043E\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043B:"),n(),o(12,"span",26),r(13),n()(),o(14,"div",24)(15,"span",25),r(16,"\u041D\u0430\u043B\u0438\u0447\u043D\u0438 \u043A\u0440\u0435\u0434\u0438\u0442\u0438:"),n(),o(17,"span",27),r(18),n()(),o(19,"div",24)(20,"span",25),r(21,"\u041E\u0431\u0449\u043E \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438:"),n(),o(22,"span",26),r(23),n()()(),d(24,Mn,3,0,"div",28)(25,On,3,0,"div",29)(26,Bn,15,3,"table",30),n()()),t&2){let e=x();s(13),C(e.userHistory.email),s(5),C(e.userHistory.freeCredits),s(5),C(e.userHistory.transactions.length),s(),u(e.loadingHistory?24:e.userHistory.transactions.length===0?25:26)}}var $t=class t{constructor(i,e,a){this.fb=i;this.adminCreditService=e;this.snackBar=a;this.bonusForm=this.fb.group({userId:["",[h.required,h.min(1)]],credits:["",[h.required,h.min(1)]],reason:["",[h.required]]})}bonusForm;searchControl=new Ae("");submitting=!1;searchResults=[];selectedUser=null;userHistory=null;loadingHistory=!1;displayedColumns=["type","creditsDelta","description","createdAt"];ngOnInit(){this.searchControl.valueChanges.pipe(_e(300),ge(),fe(i=>{if(!i||i.length<2)return this.searchResults=[],pe([]);let e={emailPart:i};return this.adminCreditService.searchUsers(e)})).subscribe({next:i=>{this.searchResults=i},error:i=>{console.error("Error searching users:",i),this.searchResults=[]}})}selectUser(i){this.selectedUser=i,this.searchControl.setValue(i.email),this.bonusForm.patchValue({userId:i.id}),this.searchResults=[],this.loadUserHistory(i.email)}loadUserHistory(i){this.loadingHistory=!0,this.adminCreditService.getUserCreditsHistory(i).subscribe({next:e=>{this.userHistory=e,this.loadingHistory=!1},error:e=>{console.error("Error loading user history:",e),this.snackBar.open("\u0413\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0440\u0435\u0436\u0434\u0430\u043D\u0435 \u043D\u0430 \u0438\u0441\u0442\u043E\u0440\u0438\u044F\u0442\u0430","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3}),this.loadingHistory=!1}})}clearSelection(){this.selectedUser=null,this.searchControl.setValue(""),this.bonusForm.patchValue({userId:""}),this.searchResults=[],this.userHistory=null}onSubmit(){if(!this.bonusForm.valid||!this.selectedUser)return;this.submitting=!0;let i=this.selectedUser.email,e={credits:this.bonusForm.value.credits,reason:this.bonusForm.value.reason};this.adminCreditService.giveBonusCredits(i,e).subscribe({next:()=>{this.snackBar.open("\u0411\u043E\u043D\u0443\u0441 \u043A\u0440\u0435\u0434\u0438\u0442\u0438\u0442\u0435 \u0441\u0430 \u0434\u043E\u0431\u0430\u0432\u0435\u043D\u0438 \u0443\u0441\u043F\u0435\u0448\u043D\u043E","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3}),this.bonusForm.patchValue({credits:"",reason:""}),this.submitting=!1,this.selectedUser&&this.loadUserHistory(this.selectedUser.email)},error:a=>{console.error("Error giving bonus credits:",a),this.snackBar.open("\u0413\u0440\u0435\u0448\u043A\u0430 \u043F\u0440\u0438 \u0434\u043E\u0431\u0430\u0432\u044F\u043D\u0435 \u043D\u0430 \u043A\u0440\u0435\u0434\u0438\u0442\u0438","\u0417\u0430\u0442\u0432\u043E\u0440\u0438",{duration:3e3}),this.submitting=!1}})}static \u0275fac=function(e){return new(e||t)(g(vt),g(F),g(Q))};static \u0275cmp=k({type:t,selectors:[["app-manual-credits"]],decls:32,vars:10,consts:[[1,"manual-credits-container"],[1,"search-section"],["appearance","fill",1,"search-field"],[1,"search-results"],[1,"selected-user"],[1,"bonus-form",3,"ngSubmit","formGroup"],["type","hidden","formControlName","userId"],["appearance","fill"],["matInput","","type","number","formControlName","credits","required",""],["matInput","","formControlName","reason","rows","3","required","","placeholder","\u041D\u0430\u043F\u0440.: \u041A\u043E\u043C\u043F\u0435\u043D\u0441\u0430\u0446\u0438\u044F \u0437\u0430 \u0438\u043D\u0446\u0438\u0434\u0435\u043D\u0442, \u041F\u0440\u043E\u043C\u043E\u0446\u0438\u043E\u043D\u0430\u043B\u043D\u0438 \u043A\u0440\u0435\u0434\u0438\u0442\u0438, \u0438 \u0442.\u043D."],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"history-card"],["matInput","","placeholder","\u0417\u0430\u043F\u043E\u0447\u043D\u0438 \u0434\u0430 \u043F\u0438\u0448\u0435\u0448 email...",3,"formControl"],["matSuffix",""],[1,"user-item"],[1,"user-item",3,"click"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-credits"],[1,"user-details"],["mat-icon-button","","matTooltip","\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u0438\u0437\u0431\u043E\u0440\u0430",3,"click"],[1,"history-summary"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"value","highlight"],[1,"loading-history"],[1,"no-transactions"],["mat-table","",1,"history-table",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","creditsDelta"],["matColumnDef","description"],["matColumnDef","createdAt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,a){if(e&1&&(o(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"h2")(5,"mat-icon"),r(6,"card_giftcard"),n(),r(7," \u0414\u043E\u0431\u0430\u0432\u0438 \u0431\u043E\u043D\u0443\u0441 \u043A\u0440\u0435\u0434\u0438\u0442\u0438 \u043A\u044A\u043C \u043F\u043E\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043B "),n()()(),o(8,"mat-card-content")(9,"div",1),d(10,bn,6,1,"mat-form-field",2),d(11,xn,3,0,"mat-list",3),d(12,Cn,13,5,"div",4),n(),o(13,"form",5),_("ngSubmit",function(){return a.onSubmit()}),m(14,"input",6),o(15,"mat-form-field",7)(16,"mat-label"),r(17,"\u0411\u0440\u043E\u0439 \u043A\u0440\u0435\u0434\u0438\u0442\u0438"),n(),m(18,"input",8),d(19,kn,2,0,"mat-error"),d(20,yn,2,0,"mat-error"),n(),o(21,"mat-form-field",7)(22,"mat-label"),r(23,"\u041F\u0440\u0438\u0447\u0438\u043D\u0430"),n(),m(24,"textarea",9),d(25,wn,2,0,"mat-error"),n(),o(26,"div",10)(27,"button",11)(28,"mat-icon"),r(29,"add"),n(),r(30),n()()()()(),d(31,zn,27,4,"mat-card",12),n()),e&2){let c,l,p;s(10),u(a.selectedUser?-1:10),s(),u(a.searchResults.length>0&&!a.selectedUser?11:-1),s(),u(a.selectedUser?12:-1),s(),v("formGroup",a.bonusForm),s(6),u((c=a.bonusForm.get("credits"))!=null&&c.hasError("required")?19:-1),s(),u((l=a.bonusForm.get("credits"))!=null&&l.hasError("min")?20:-1),s(5),u((p=a.bonusForm.get("reason"))!=null&&p.hasError("required")?25:-1),s(2),v("disabled",!a.bonusForm.valid||a.submitting||!a.selectedUser),s(3),A(" ",a.submitting?"\u0414\u043E\u0431\u0430\u0432\u044F\u043D\u0435...":"\u0414\u043E\u0431\u0430\u0432\u0438 \u043A\u0440\u0435\u0434\u0438\u0442\u0438"," "),s(),u(a.selectedUser&&a.userHistory?31:-1)}},dependencies:[I,xt,ht,dt,_t,ut,pt,bt,Ee,gt,ft,It,St,Et,Dt,At,wt,yt,Ct,kt,Xe,Ot,Mt,T,H,j,q,U,G,bi,Gt,ui,Qt,Ut,Tt,Lt,Vt,Rt,Ft,Nt,Bt,zt,jt,Ht,ye],styles:[".manual-credits-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:20px}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;color:#1976d2}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]{margin-bottom:24px;position:relative}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #ddd;border-radius:4px;max-height:300px;overflow-y:auto;z-index:1000;box-shadow:0 4px 6px #0000001a}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{cursor:pointer;border-bottom:1px solid #f0f0f0}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:8px 0}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:.9em;color:#666}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-credits[_ngcontent-%COMP%]{font-size:.85em;color:#1976d2}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .selected-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background-color:#e3f2fd;border-radius:8px;margin-top:16px}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .selected-user[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .selected-user[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .selected-user[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.1em;color:#333}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .selected-user[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em;color:#666}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .selected-user[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .bonus-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .bonus-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .bonus-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.manual-credits-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .bonus-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]{margin-top:24px}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:20px}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;color:#1976d2}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;padding:16px;background-color:#f5f5f5;border-radius:8px;margin-bottom:24px}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9em;color:#666}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#333}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#1976d2;font-size:1.3em}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .loading-history[_ngcontent-%COMP%], .manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]{width:100%;background:#fff}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]   .transaction-type[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:.85em;font-weight:600;text-transform:uppercase}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]   .transaction-type.bonus[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]   .transaction-type.purchase[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]   .transaction-type.usage[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]   .transaction-type.refund[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]   .credits-positive[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.manual-credits-container[_ngcontent-%COMP%]   .history-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .history-table[_ngcontent-%COMP%]   .credits-negative[_ngcontent-%COMP%]{color:#f44336;font-weight:600}"]})};var tr=[{path:"",component:Wt,canActivate:[qt],children:[{path:"",redirectTo:"credit-packages",pathMatch:"full"},{path:"credit-packages",component:Kt,title:"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043D\u0430 \u043A\u0440\u0435\u0434\u0438\u0442\u043D\u0438 \u043F\u0430\u043A\u0435\u0442\u0438 - Admin"},{path:"manual-credits",component:$t,title:"\u0411\u043E\u043D\u0443\u0441 \u043A\u0440\u0435\u0434\u0438\u0442\u0438 - Admin"},{path:"companies",loadComponent:()=>import("./chunk-7SSEC27Y.js").then(t=>t.CompanyListComponent),title:"\u0412\u0441\u0438\u0447\u043A\u0438 \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438 - Admin"}]}];export{tr as adminRoutes};
